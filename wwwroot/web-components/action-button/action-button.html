<link rel="stylesheet" href="action-button.css" />

<dom-if if="[[!isGroup]]">
    <template>
        <dom-if if="[[!options]]">
            <template>
                <vi-button disabled="[[!canExecute]]" header on-tap="_onExecuteWithoutOptions" inverse>
                    <div class="layout horizontal">
                        <vi-icon class="action-icon" source="[[icon]]"></vi-icon>
                        <span class="label">[[action.displayName]]</span>
                    </div>
                </vi-button>
            </template>
        </dom-if>
        <dom-if if="[[options]]">
            <template>
                <vi-popup-menu open-on-hover="[[_computeOpenOnHover(overflow, openOnHover)]]" disabled="[[!canExecute]]">
                    <vi-button disabled="[[!canExecute]]" header inverse class="options">
                        <div class="layout horizontal">
                            <vi-icon class="action-icon" source="[[icon]]"></vi-icon>
                            <span class="label">[[action.displayName]]</span>
                            <vi-icon class="down-icon" source="Down"></vi-icon>
                        </div>
                    </vi-button>
                    <dom-repeat items="[[options]]" as="option">
                        <template>
                            <vi-popup-menu-item label="[[option.value]]" on-tap="_onExecuteWithOption" no-icon></vi-popup-menu-item>
                        </template>
                    </dom-repeat>
                </vi-popup-menu>
            </template>
        </dom-if>
    </template>
</dom-if>
<dom-if if="[[isGroup]]">
    <template>
        <vi-popup disabled="[[!canExecute]]" open-on-hover="[[_computeOpenOnHover(overflow, openOnHover)]]">
            <vi-button disabled="[[!canExecute]]" header inverse class="groupActions">
                <div class="layout horizontal">
                    <vi-icon class="action-icon" source="[[icon]]"></vi-icon>
                    <span class="label">[[action.displayName]]</span>
                    <vi-icon class="down-icon" source="Down"></vi-icon>
                </div>
            </vi-button>
            <div content>
                <dom-repeat items="[[action.actions]]" as="groupAction">
                    <template>
                        <vi-action-button grouped open-on-hover action="[[groupAction]]"></vi-action-button>
                    </template>
                </dom-repeat>
            </div>
        </vi-popup>
    </template>
</dom-if>